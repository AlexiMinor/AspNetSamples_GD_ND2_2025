<main class="main">
  <div class="content">
    <mat-toolbar>
      <button matIconButton (click)="snav.toggle()">
        <mat-icon>menu</mat-icon>
      </button>
      <span routerLink="/">Good Articles Aggregator</span>
      <span class="spacer"></span>
      @if (userSignal()) {
        <div class="user-info">
          <span>Logged in as {{ userSignal()?.email }}</span>
        </div>
        <button (click)="logout()" matButton>Logout</button>

        @if (isAdmin()) {
          <a matButton routerLink="/admin-panel">Admin Panel</a>
        }
      } @else {
        <button matButton (click)="openLoginDialog()">Login</button>
      }
    </mat-toolbar>

    <mat-sidenav-container class="sidenav-container"
                           [style.marginTop.px]="isMobile() ? 56 : 0">
      <mat-sidenav #snav class="sidenav-menu" [mode]="isMobile() ? 'over' : 'push'"
                   [fixedInViewport]="isMobile()" fixedTopGap="56">
        <mat-nav-list>
          <a mat-list-item routerLink="/articles">Read Articles</a>
        </mat-nav-list>
      </mat-sidenav>

      <mat-sidenav-content>
        <router-outlet></router-outlet>
      </mat-sidenav-content>
    </mat-sidenav-container>
  </div>
</main>


